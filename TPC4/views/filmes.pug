extends layout 

block dhead
  link(rel="stylesheet", href="/assets/css/style.css")
  script(src="/assets/js/filmes.js" defer) 

block content 
  .w3-card-4
    header.w3-container.w3-blue
      h1 Lista de Filmes 

    .w3-container
      table.w3-table-all
        tr
          thead
            tr
              th Ano
              th Título
              th Elenco
              th Géneros
              th
          tbody
            each film in lfilmes
              tr(data-id=`${film.id}`)
                td= film.year
                td= film.title
                td
                  ul.w3-ul
                    if "cast" in film
                      each _cast in lcast.filter(c => film.cast.includes(c.id))
                        li
                          a.w3-cell.w3-button(href="/actors/" + _cast.id)= _cast.name
                td
                  ul.w3-ul
                    if "genres" in film
                      each _genre in lgenres.filter(g => film.genres.includes(g.id)).map(g => g.name)
                        li= _genre
                td.center.center-cell
                  .flex.fc.fh
                    a.w3-cell.w3-button(href="/filmes/edit/" + film.id) Edit
                    button.w3-cell.w3-button(name="deleteBtn" data-target=`${film.id}`) Delete

            
  
  footer.we-container.w3-blue
    address Generated by ENGWEB2025 class